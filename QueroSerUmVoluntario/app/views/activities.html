<!DOCTYPE html>
<html>

<body>

    <div class="container" ng-controller="ActivitiesController">
        <div class="row">
            <div class="col-xs-12">
               <ul class="breadcrumb">
                   <li><a ui-sref="app">Home</a></li>
                   <li class="active">Gerenciar atividades</li>
               </ul>
            </div>
            <div class="col-xs-12">
               <h3>Gerencie as atividades da sua organização</h3>
               <hr>
            </div>
        </div>
        
        <div class="row row-content">
			<div class="col-xs-9 col-xs-offset-1">
	            <p><h4><b>Atividades</b></h4></p>
	            <blockquote ng-repeat="activity in organization.activities">
	              <span ng-bind="organization.activities[$index].name"></span><br/>
	              <p>{{activity.name}}</p>
	              <footer>{{activity.name}}, {{activity.name}}</footer>
	              <button class="btn btn-default" style="margin-top:9px" ng-click="removeActivity($index)">
	              	<span class="glyphicon glyphicon-remove"></span> Remover</button>
	              <button class="btn btn-default" style="margin-top:9px" ng-click="showUpdatingActivityModal($index)">
	              	<span class="glyphicon glyphicon-pencil"></span> Atualizar</button>
	            </blockquote>
	
	            <blockquote ng-show="activityForm.$valid">
	              <p>{{creatingActivity.name}}</p>
	              <p>{{creatingActivity.name}}</p>
	              <footer>{{creatingActivity.name}}, {{creatingActivity.name}}</footer>
	            </blockquote>
	            <form class="form-horizontal" name="activityForm" ng-submit="pushActivity()" novalidate>
	                <div class="form-group" ng-class="{ 'has-error' : activityForm.name.$error.required && !activityForm.name.$pristine }">
	                    <label for="name" class="col-sm-1 control-label">Nome</label>
	                    <div class="col-sm-11">
	                        <input type="text" class="form-control" id="name" name="name" placeholder="Nome da atividade"
	                        ng-model="creatingActivity.name" required>
	                        <span ng-show="activityForm.name.$error.required && !activityForm.name.$pristine" class="help-block">Insira o nome da atividade</span>
	                    </div>
	                </div>
	                <div class="form-group">
	                    <div class="col-sm-offset-1 col-sm-11">
	                        <button type="submit" class="btn btn-primary" ng-disabled="activityForm.$invalid">Cadastrar nova atividade</button>
	                    </div>
	                </div>
	            </form>
	        </div>
        </div>
    </div>
    
	<div id="activityModal" class="modal fade" role="dialog" ng-controller="ActivitiesController">
        <div class="modal-dialog">
        Modal content
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">&times;</button>
                <h4 class="modal-title">Atualizar atividade</h4>
            </div>
            <div class="modal-body">
	            <form class="form-horizontal" name="updatingActivityForm" ng-submit="updateActivity()" novalidate>
	                <div class="form-group" ng-class="{ 'has-error' : updatingActivityForm.name.$error.required && !updatingActivityForm.name.$pristine }">
	                    <input type="hidden" id="activityIndex">
	                    <label for="name" class="col-sm-1 control-label">Nome</label>
	                    <div class="col-sm-11">
	                        <input type="text" class="form-control" id="updatingActivityName" name="name" placeholder="Nome da atividade" 
	                        ng-model="updatingActivity.name" required>
	                        <span ng-show="updatingActivityForm.name.$error.required && !updatingActivityForm.name.$pristine" class="help-block">Insira o nome da atividade</span>
	                    </div>
	                </div>
                    <div class="form-group">
                    	<div class="col-sm-12">
	                        <button type="submit" class="btn btn-info" ng-disabled="updatingActivityForm.$invalid">Salvar</button>
	                        <button type="button" class="btn btn-default btn-sm" data-dismiss="modal">Cancelar</button>
                   		</div>
                    </div>
                </form>
            </div>
        </div>
        </div>
    </div>
    
</body>
    
</html>